<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìˆ˜í™”í†µì—­ ì—°ìŠµ | ë¬¸ì¥ â†’ ì˜ìƒ</title>
  <style>
    :root{
      --bg:#0f172a;      /* slate-900 */
      --panel:#111827;   /* gray-900 */
      --muted:#94a3b8;   /* slate-400 */
      --text:#e5e7eb;    /* gray-200 */
      --accent:#22d3ee;  /* cyan-400 */
      --good:#22c55e;    /* green-500 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
      background:linear-gradient(180deg, #0b1324 0%, var(--bg) 60%);
      color:var(--text);
      display:flex; align-items:center; justify-content:center;
    }
    .app{ width:min(1100px, 96vw); margin:auto; }
    header{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:12px;}
    header h1{font-size:clamp(18px, 3.5vw, 28px); margin:0; letter-spacing:.3px}
    .card{
      background:color-mix(in oklab, var(--panel) 92%, black 8%);
      border:1px solid #1f2937;
      border-radius:18px; padding:18px; box-shadow:0 8px 30px #0006;
    }
    .row{ display:flex; gap:14px; flex-wrap:wrap; align-items:center }
    .controls{ display:flex; gap:10px; flex-wrap:wrap }
    button, .btn{ 
      background:#1f2937; border:1px solid #2b3646; color:var(--text);
      padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
      transition:.15s ease; user-select:none
    }
    button:hover{ transform:translateY(-1px); box-shadow:0 6px 14px #0006 }
    button.primary{ background:var(--accent); color:#00343c; border-color:#22d3ee }
    button.good{ background:var(--good); color:#05320f; border-color:#22c55e }
    button.ghost{ background:transparent; border-color:#2b3646 }
    button[disabled]{ opacity:.6; cursor:not-allowed; transform:none; box-shadow:none }
    label{ color:var(--muted); font-size:14px }
    input[type="checkbox"]{ transform:scale(1.2); vertical-align:middle; margin-right:6px }

    .display{
      display:grid; gap:16px; grid-template-columns: 1fr; align-items:start
    }
    .sentence{
      font-size:clamp(22px, 4vw, 32px); line-height:1.45; background:#0b1220; border:1px dashed #273246;
      padding:16px; border-radius:14px;
    }
    .meta{ color:var(--muted); font-size:13px; display:flex; gap:16px; flex-wrap:wrap }
    .video-wrap{ display:none }
    video{ width:100%; max-height:60vh; border-radius:14px; background:black }

    .dataset-tip{ color:var(--muted); font-size:13px; margin-top:6px }
    .footer{ color:#9aa7bd; font-size:12px; margin-top:8px }
    .kbd{ font-family:ui-monospace, SFMono-Regular, Menlo, monospace; background:#101828; border:1px solid #2b3646; padding:2px 6px; border-radius:6px }
  </style>
</head>
<body>
  <div class="app">
    <header class="row">
      <h1>ìˆ˜í™”í†µì—­ ì—°ìŠµ â€” ë¬¸ì¥ â†’ ì˜ìƒ (ìë™ ìŒì„±, ì „ì²´ ëœë¤)</h1>
      <div class="controls">
        <button id="startBtn" class="primary">ì‹œì‘í•˜ê¸°</button>
        <button id="reSpeakBtn" title="ë¬¸ì¥ ë‹¤ì‹œ ì½ê¸°">ğŸ”Š ë‹¤ì‹œ ë“£ê¸°</button>
        <button id="revealBtn" class="good" title="ì •ë‹µ í™•ì¸: ì˜ìƒ ë³´ê¸°">ì •ë‹µ í™•ì¸ (ì˜ìƒ)</button>
        <button id="nextBtn" title="ë‹¤ìŒ ë¬¸ì¥">ë‹¤ìŒ â–¶</button>
      </div>
    </header>

    <section class="card display">
      <div class="row" style="justify-content:space-between">
        <div class="row" style="gap:14px">
          <label><input type="checkbox" id="shuffleAll" checked> ì‹œì‘ ì‹œ <b>ì „ì²´ ëœë¤</b></label>
          <label><input type="checkbox" id="autoVoice" checked> ì‹œì‘í•˜ë©´ <b>ìë™ ìŒì„±</b></label>
          <label><input type="checkbox" id="loopEnd" checked> ëë‚˜ë©´ ë‹¤ì‹œ ëœë¤ ì‹œì‘</label>
        </div>
        <div class="meta">
          <span>ì§„í–‰: <span id="pos">0</span>/<span id="total">0</span></span>
          <span>ìŒì„±: <span id="voiceName">â€”</span></span>
        </div>
      </div>

      <div class="sentence" id="sentence">ìƒë‹¨ì˜ <span class="kbd">ì‹œì‘í•˜ê¸°</span>ë¥¼ ëˆŒëŸ¬ ì£¼ì„¸ìš”.</div>

      <div class="video-wrap" id="videoWrap">
        <video id="video" playsinline preload="metadata" controls></video>
      </div>

      <div class="footer">
        ë‹¨ì¶•í‚¤: <span class="kbd">Space</span> ì •ë‹µ í™•ì¸ / <span class="kbd">â†’</span> ë‹¤ìŒ / <span class="kbd">R</span> ë‹¤ì‹œ ë“£ê¸°
      </div>
    </section>

    <p class="dataset-tip">ë°ì´í„° ì¶”ê°€ëŠ” <b>ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ ìƒë‹¨ì˜ <code>DATA</code></b> ë°°ì—´ì— <code>{ k: "ë¬¸ì¥", src: "ì˜ìƒì£¼ì†Œ.mp4" }</code> í˜•ì‹ìœ¼ë¡œ í•œ ì¤„ì”© ë„£ì–´ì£¼ì„¸ìš”.</p>
  </div>

  <script>
    /* ==========================
       âœ¨ ë°ì´í„°ì…‹ (ì—¬ê¸°ì—ë§Œ ì¶”ê°€/ìˆ˜ì •)
       - k: ë¬¸ì¥(ë¬¸ì¥ì´ ë¨¼ì € ë…¸ì¶œ)
       - src: ì˜ìƒ mp4 URL (ì •ë‹µ í™•ì¸ ì‹œ ìë™ ì¬ìƒ)
       âš ï¸ ì¼ë¶€ ì‚¬ì´íŠ¸(mp4)ê°€ "ë‹¤ìš´ë¡œë“œ ì „ìš©" í—¤ë”ë¥¼ ì“°ë©´ ë¸Œë¼ìš°ì € ë‚´ ì¬ìƒì´ ë§‰í ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          ê·¸ëŸ° ê²½ìš° Google Drive(ë¯¸ë¦¬ë³´ê¸° ë§í¬) ë˜ëŠ” ìì²´ ì„œë²„/í˜¸ìŠ¤íŒ…, í˜¹ì€ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¬ë° ê°€ëŠ¥í•œ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    ========================== */
    const DATA = [
      { k: "(ë²•ì„) ì§€í‚¤ë‹¤", ex: "ê°€: â—‹â—‹ì•„, ìš°ë¦¬ í•™ìƒ ë•Œ ë‘ë°œ ê·œì • ë•Œë¬¸ì— ì „êµìƒì´ ë‹¤ ë˜‘ê°™ì´ ë‹¨ë°œì´ì—ˆì–ì•„. ê¸°ì–µë‚˜? ë‚˜: ë§ì•„.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202405/Srskz9UtpzlEfT9W.mp4" },
{ k: "ì•„ì´ê³ , ì•„ë¿”ì‹¸", ex: "ê°€: ì˜¤í›„ì— ë¹„ê°€ ë‚´ë¦°ë‹¤ëŠ”ë°, ìš°ì‚° ì±™ê²¼ì–´? ë‚˜: ì•„ì´ê³ . ê¹œë¹¡í–ˆë„¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/a3mFRN8ardsnitaQ.mp4" },
{ k: "ë§Œë“¤ë‹¤", ex: "ê°€: ì•„ë“¤ì•„, ë­˜ ë§Œë“¤ê³  ìˆì–´? ë‚˜: ì°°í™ìœ¼ë¡œ ì½”ë¼ë¦¬ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/cgnNabMUEnwURmU2.mp4" },
{ k: "ë§Œë“¤ë‹¤", ex: "ê°€: ì´ ë¹µ ì •ë§ ë§›ìˆë‹¤. ì‹œì¥ì—ì„œ ì‚° ê±°ì•¼? ë‚˜: ì•„ë‹ˆì•¼, ë‚´ê°€ ì§ì ‘ ë§Œë“¤ì—ˆì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/ahoLAebuSHQO0NQP.mp4" },
{ k: "ë§Œë“¤ë‹¤", ex: "ê°€: ê³µì¥ì—ì„œ ë¬´ìŠ¨ ì¼ í•´? ë‚˜: ë‚˜ëŠ” ì‹ ë°œì„ ë§Œë“¤ì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/AplPxMQRPrXgcZMJ.mp4" },
{ k: "ë§ë‹¤, ì§„ì§œ, ì‚¬ì‹¤, ì •ë§, ì‹¤ì œ", ex: "ê°€: ë†í•™êµ ê°€ë ¤ë©´ ì—¬ê¸°ì„œ ì§ì§„í•˜ëŠ” ê±° ë§ì§€ìš”? ë‚˜: ë„¤, ë§ì•„ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/umwijan0HaEjeAgA.mp4" },
{ k: "ë§ë‹¤, ì§„ì§œ, ì‚¬ì‹¤, ì •ë§, ì‹¤ì œ", ex: "ê°€: ì–¼ë§ˆ ì „ì— â—‹â—‹ì´ê°€ ì´í˜¼í–ˆë°. ë‚˜: ì •ë§ì´ì•¼?", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/oSRpZpB9kLUcIWqI.mp4" },
{ k: "-ì§€ë§Œ, -ìœ¼ë‚˜, -ëŠ”ë°", ex: "ê°€: ë„¤ê°€ ë¨¼ì €, â—‹â—‹ì´ì—ê²Œ ëŒ€ì‹œí–ˆì§€? ë‚˜: ë§ì•„, ê·¼ë° í›„íšŒí•˜ê³  ìˆì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/0BtnDbXm5CCssIpl.mp4" },
{ k: "-ì§€ë§Œ, -ìœ¼ë‚˜, -ëŠ”ë°", ex: "ê°€: ì˜¤ëŠ˜ ìˆ˜ì—… ë°œí‘œ ë„¤ê°€ ë§¡ì€ ê±° ë§ì§€? ë‚˜: ì‘, ë§ì•„. ê·¼ë° ë‚´ê°€ ëª¸ì´ ì•ˆ ì¢‹ì•„ì„œ â—‹â—‹ì´ì—ê²Œ ë„˜ê²¼ì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/hVXO3QJxOnZMZAXI.mp4" },
{ k: "ëª©ì , ëª©í‘œ, ê¿ˆ", ex: "ê°€: ë„ˆëŠ” ì˜ì–´ë¥¼ ë°°ìš°ëŠ” ëª©ì ì´ ë­ì•¼? ë‚˜: ë‚˜ëŠ” ë‚˜ì¤‘ì— í•´ì™¸ë¥¼ ë‹¤ë‹ˆë©° ì—¬ëŸ¬ ë‚˜ë¼ ì‚¬ëŒê³¼ ëŒ€í™”í•˜ê³  ì‹¶ì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/owUtPbjLJ39Y2Ock.mp4" },
{ k: "ëª©ì , ëª©í‘œ, ê¿ˆ", ex: "ê°€: ë„ˆëŠ” ìˆ˜ì–´ í–‰ì‚¬ì— ì°¸ì—¬í•œ ëª©ì ì´ ë­ì•¼? ë‚˜: ë‚˜ëŠ” ë†ì¸ê³¼ ì–´ìš¸ë¦¬ê³  ì‹¶ì–´ì„œ ì°¸ì—¬í–ˆì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/xVbPT6uk4f0HtQ7U.mp4" },
{ k: "ëª©ì , ëª©í‘œ, ê¿ˆ", ex: "ê°€: ì—¬ëŸ¬ë¶„ë“¤ì€ ì—¬ê¸° ì™œ ëª¨ì—¬ ìˆë‚˜ìš”? ë‚˜: ë„¤, ë´‰ì‚¬ í™œë™ì„ í•˜ë ¤ê³ ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/HTTHtkcIHI8Hfws0.mp4" },
{ k: "ì–´ë–»ê²Œ í–ˆì–´?", ex: "ê°€: ë„ˆ ì§‘ ë©€ì–ì•„. ì–´ë–»ê²Œ ì™”ì–´? ë‚˜: ì–´ì ¯ë°¤ì— ì¹œêµ¬ ì§‘ì—ì„œ ìê³  ì˜¨ ê±°ì•¼.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/k4dNG6O8U3Pk8p7V.mp4" },
{ k: "ì–´ë–»ê²Œ í–ˆì–´?", ex: "ê°€: â—‹â—‹ì´ì˜ ë§ˆìŒì„ ì–´ë–»ê²Œ ì‚¬ë¡œì¡ì•˜ì–´? ë‚˜: ë„ˆì—ê²Œ ë§í•´ ì£¼ê¸° ì–´ë ¤ì›Œ.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/zavgdWyu6oa6hkS3.mp4" },
{ k: "ë¹„ë°€, ê¸°ë°€", ex: "ê°€: â—‹â—‹ì´ê°€ ì´í˜¼í–ˆë‹¤ëŠ” ê²ƒì´ ì‚¬ì‹¤ì´ì•¼? ë‚˜: ì•„ë‹ˆ, ì´í˜¼ ì ˆì°¨ ì§„í–‰ ì¤‘ì¸ë° ë¹„ë°€ì´ì•¼.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/rhy2SD3dEWwszr63.mp4" },
{ k: "ìˆ˜ê³ , ìˆ˜ê³ í•˜ë‹¤, ë…¸ê³ ", ex: "ê°€: ì •ë§ ì£„ì†¡í•˜ì§€ë§Œ, ì˜¤ëŠ˜ í–‰ì‚¬ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‚˜: ê·¸ëŸ¼ ë‚´ê°€ ì—¬ê¸°ê¹Œì§€ ìˆ˜ê³ í•´ì„œ ì˜¨ ê²Œ ë­ê°€ ë˜ë‚˜? ë¯¸ë¦¬ ë¬¸ìë¼ë„ ë³´ë‚´ì¤¬ë‹¤ë©´ ì¢‹ì•˜ì„ í…ë°.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/wSDcAx5P0LUzeBQe.mp4" },
{ k: "ì•„ë§ˆ, í˜¹ì‹œ, ì„¤ë§ˆ", ex: "ê°€: ì–˜, â—‹â—‹ì´ëŠ” ì–´ë”” ê°”ì–´? ë‚˜: ì•„ë§ˆë„ í™”ì¥ì‹¤ ê°„ ê²ƒ ê°™ì•„.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/FAyqD2LL8RbnXPTD.mp4" },
{ k: "ì•„ë§ˆ, í˜¹ì‹œ, ì„¤ë§ˆ", ex: "ê°€: ì „êµ­ ë†ì•„ì¸ ì²´ìœ¡ëŒ€íšŒ 10ì›”ì— ê°œìµœí•˜ëŠ” ê±° ë§ì•„? ë‚˜: ì‘, ì•„ë§ˆë„ ë§ì„ ê±°ì•¼.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/10Ex1Ditn8eKSzHX.mp4" },
{ k: "ì•„ë§ˆ, í˜¹ì‹œ, ì„¤ë§ˆ", ex: "ê°€: ì–˜, ì € ì‚¬ëŒì€ ëˆ„êµ¬ì•¼? ë‚˜: ì•„ë§ˆ â—‹â—‹ì´ ë¶€ì¸ì¼ ê±°ì•¼.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/6LzcFGQBdPr1tEuL.mp4" },
{ k: "ì•„ë§ˆ, í˜¹ì‹œ, ì„¤ë§ˆ", ex: "ê°€: ë„ˆ ì¼ì´ ëª‡ ì‹œì— ëë‚  ê²ƒ ê°™ì•„? ë‚˜: ì•„ë§ˆ ì–´ë¦¼ì¡ì•„ 4ì‹œì¯¤ ëë‚  ê²ƒ ê°™ì•„.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/iHrzwYOiT7dRTFfL.mp4" },
{ k: "ì´ë¦„, ì„±ëª…, ì„±í•¨, ëª…ì¹­", ex: "ê°€: ë„ˆëŠ” ì´ë¦„ì´ ì •ë§ ì˜ˆì˜ë‹¤. ëˆ„ê°€ ì§€ì–´ ì£¼ì…¨ë‹ˆ? ë‚˜: í• ì•„ë²„ì§€ê»˜ì„œ ì§€ì–´ ì£¼ì…¨ì–´ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/UIrG7IwXdNr60Q9R.mp4" },
{ k: "ìˆë‹¤", ex: "ê°€: â—‹â—‹ì´ê°€ ìê¸°ëŠ” ì• ì¸ ì—†ë‹¤ê³  ë§í•˜ë˜ë°? ë‚˜: ì•„ë‹ˆì•¼, ê±” ì• ì¸ ìˆì–´!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/nd61wVlPkFz3I0FD.mp4" },
{ k: "ì¡°íšŒ", ex: "ê°€: ë„ˆ ì¡°íšŒì—ì„œ ì•ˆ ë³´ì´ë˜ë°? ë‚˜: ë°°íƒˆì´ ë‚˜ì„œ í™”ì¥ì‹¤ì— ë‹¤ë…€ì™”ìŠµë‹ˆë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/7D9WesbAhSwqapg7.mp4" },
{ k: "í‹€ë¦¬ë‹¤, ì˜¤ë¥˜, í‹€ë¦° ê²ƒì„ ì§€ì í•˜ë‹¤", ex: "ê°€: â—‹â—‹ì´ê°€ ë‚´ê°€ í‹€ë ¸ë‹¤ë©° ìê¾¸ íŠ¸ì§‘ì„ ì¡ì•„ì„œ ì•„ì£¼ ê¸°ë¶„ì´ ë‚˜ë¹ ! ë‚˜: ë§ì•„, ë‚˜ë„ ë˜‘ê°™ì´ ë‹¹í–ˆì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/Wxcy9opkEF4piTAo.mp4" },
{ k: "í•˜ë‹¤[í–‰ë™]", ex: "ê°€: ì—¬ë³´, ë‚˜ ëª¸ì´ ì—¬ê¸°ì €ê¸° ë»ê·¼í•˜ê³  ë„ˆë¬´ í”¼ê³¤í•´ì„œ ì²­ì†Œí•˜ê¸°ê°€ í˜ë“¤ì–´ìš”. ë‚˜: í•˜ì§€ ë§ˆìš”, ì²­ì†ŒëŠ” ë‚´ê°€ í•  í…Œë‹ˆ ë‹¹ì‹ ì€ ì‰¬ì–´ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/YKJoaAEAdm5Ky0sW.mp4" },
{ k: "í•˜ë‹¤[í–‰ë™]", ex: "ê°€: ì„œëì— ë³´ë‹ˆ ë‚´ íŒ¬í‹°ê°€ ë¶€ì¡±í•´. ë¹¨ë˜ ì•ˆ í•´? ë‚˜: ì•„! í•´ì•¼ì§€.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/j1oEWkWTNv3Vb6gI.mp4" },
{ k: "í•˜ë‹¤[í–‰ë™]", ex: "ê°€: ë„ˆ ê·¸ê±° ì•ˆ ë¨¹ì„ ê±°ì§€? ê·¸ëŸ¼ ë‚´ê°€ ë¨¹ëŠ”ë‹¤! ë‚˜: ì•„ë‹ˆì•¼, ë¨¹ì„ ê±°ì•¼!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/cU75dko18xCXPPtB.mp4" },
{ k: "í•˜ë‹¤[í–‰ë™]", ex: "ê°€: ë„ˆëŠ” ì´ë²ˆ ì—¬í–‰ì— ì™œ ì•ˆ ê°€? ë‚˜: ì•„ë‹ˆì•¼, ë‚˜ë„ ê°€!", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/ThJthhhiwv9AXzkN.mp4" },
{ k: "í˜¸í…”, ëª¨í…”", ex: "ê°€: ì´ í˜¸í…”ì€ ë°©ì´ ì˜ ì•„ë‹Œ ê±° ê°™ì•„. ìš°ë¦¬ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê¸°ì. ë‚˜: ì•ˆë¼, ì´ë¯¸ ëˆì„ ëƒˆì–ì•„.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/RD1KyYbkSVKYaZ80.mp4" },
{ k: "ì§€ìš°ë‹¤, ì‚­ì œ, ì‚­ì œí•˜ë‹¤", ex: "ê°€: ì˜ìƒì—ì„œ ì´ ë¶€ë¶„ì€ ì§€ìš¸ê¹Œ? ë‚˜: ì•„ë‹ˆì•¼, ê·¸ëŒ€ë¡œ ì‚´ë ¤ ë†”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/J5wNMnSFjkGSaHL4.mp4" },
{ k: "ì„œì , ì±…ë°©", ex: "ê°€: ì €ê¸° ì„œì ì´ ìˆì—ˆëŠ”ë°, ì™œ ë¹„ì–´ ìˆì§€? ë‚˜: ì˜ˆì „ì— ì´ë¯¸ íì—…í–ˆì–ì•„.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/wdVwdksyDAQfFcI8.mp4" },
{ k: "ì„œì , ì±…ë°©", ex: "ê°€: ì €ê¸°ìš”, ì„œì ì€ ëª‡ ì¸µì¸ê°€ìš”? ë‚˜: 4ì¸µì´ìš”.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202412/rvzRFNDrmJMusTDU.mp4" },
{ k: "ì¸ë§¥, ì—°ì¤„", ex: "ê°€: â—‹â—‹ì´ëŠ” ê·¸ íšŒì‚¬ì— ì–´ë–»ê²Œ ì·¨ì§í•œ ê±°ì•¼? ë‚˜: ì‚¬ì‹¤ì€ ì¸ë§¥ìœ¼ë¡œ ì·¨ì—…í–ˆëŒ€.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/qmGQ5XpUF0x1cOof.MP4" },
{ k: "ë¶•ëŒ€, ë¶•ëŒ€ë¥¼ ê°ë‹¤", ex: "ê°€: ì•¼, ë¶•ëŒ€ ì™œ í–ˆì–´? ë‚˜: ì–´ì œ ê³„ë‹¨ì—ì„œ ë„˜ì–´ì ¸ì„œ.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202507/ruoq1mACRanRC5jo.MP4" },

    ];

    /* ============== ìƒíƒœ ============== */
    let order = [...DATA.keys()];
    let idx = 0;
    let started = false;
    let voices = [];
    let selectedVoice = null;

    /* ============== ìš”ì†Œ ============== */
    const el = (id)=>document.getElementById(id);
    const startBtn = el('startBtn');
    const reSpeakBtn = el('reSpeakBtn');
    const revealBtn = el('revealBtn');
    const nextBtn = el('nextBtn');
    const shuffleAll = el('shuffleAll');
    const autoVoice = el('autoVoice');
    const loopEnd = el('loopEnd');
    const sentence = el('sentence');
    const pos = el('pos');
    const total = el('total');
    const voiceName = el('voiceName');
    const videoWrap = el('videoWrap');
    const video = el('video');

    total.textContent = DATA.length;

    /* ============== ìœ í‹¸ ============== */
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }

    function currentItem(){ return DATA[ order[idx] ]; }

    function updateView(){
      const item = currentItem();
      sentence.textContent = item.k;
      pos.textContent = (idx+1);
      video.pause();
      video.currentTime = 0;
      videoWrap.style.display = 'none';
      revealBtn.disabled = false;
      // ìë™ ìŒì„±
      if (autoVoice.checked) speak(item.k);
    }

    /* ============== ìŒì„± (Web Speech Synthesis) ============== */
    function loadVoices(){
      voices = speechSynthesis.getVoices();
      // ko-KR ìš°ì„ , ê·¸ ë‹¤ìŒ í•œê¸€/í•œêµ­ì–´ ì´ë¦„ í¬í•¨, ì—†ìœ¼ë©´ ê¸°ë³¸
      selectedVoice = voices.find(v=>/ko|Korean|í•œêµ­ì–´/i.test(v.lang+" "+v.name)) || voices[0] || null;
      voiceName.textContent = selectedVoice ? `${selectedVoice.name}` : 'ê¸°ë³¸(ë¸Œë¼ìš°ì €)';
    }
    loadVoices();
    if (typeof speechSynthesis !== 'undefined'){
      speechSynthesis.onvoiceschanged = loadVoices;
    }

    let speakQueue = null;
    function speak(text){
      try{ speechSynthesis.cancel(); }catch(e){}
      if(!text) return;
      const u = new SpeechSynthesisUtterance(text);
      if (selectedVoice) u.voice = selectedVoice;
      u.lang = (selectedVoice?.lang) || 'ko-KR';
      u.rate = 1.0; // ë§í•˜ê¸° ì†ë„
      u.pitch = 1.0;
      speakQueue = u;
      speechSynthesis.speak(u);
    }

    /* ============== ì´ë²¤íŠ¸ ============== */
    startBtn.addEventListener('click', ()=>{
      if (shuffleAll.checked) shuffle(order);
      idx = 0; started = true;
      updateView();
      startBtn.textContent = 'ì²˜ìŒë¶€í„° ë‹¤ì‹œ';
    });

    reSpeakBtn.addEventListener('click', ()=>{
      if(!started) return;
      speak(currentItem().k);
    });

    revealBtn.addEventListener('click', ()=>{
      if(!started) return;
      const item = currentItem();
      video.src = item.src;
      videoWrap.style.display = 'block';
      // ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ì´í›„ì´ë¯€ë¡œ ìë™ì¬ìƒ í—ˆìš©ë¨
      video.play().catch(()=>{ /* ìë™ì¬ìƒ ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ */ });
      revealBtn.disabled = true;
    });

    nextBtn.addEventListener('click', ()=>{
      if(!started) return;
      if (idx < order.length-1){
        idx++;
        updateView();
      } else {
        if (loopEnd.checked){
          shuffle(order); idx = 0; updateView();
        }
      }
    });

    // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤: Space=ì •ë‹µ, â†’=ë‹¤ìŒ, R=ë‹¤ì‹œë“£ê¸°
    window.addEventListener('keydown', (e)=>{
      if(e.target && ['INPUT','TEXTAREA'].includes(e.target.tagName)) return;
      if(e.code==='Space'){ e.preventDefault(); revealBtn.click(); }
      else if(e.code==='ArrowRight'){ e.preventDefault(); nextBtn.click(); }
      else if(e.key.toLowerCase()==='r'){ e.preventDefault(); reSpeakBtn.click(); }
    });

    // í˜ì´ì§€ ì´íƒˆ ì‹œ ìŒì„± ì •ë¦¬
    window.addEventListener('beforeunload', ()=>{
      try{ speechSynthesis.cancel(); }catch(e){}
    });

    // ì´ˆê¸° ìƒíƒœ í‘œì‹œ
    if(DATA.length===0){
      sentence.innerHTML = 'ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤. <code>DATA</code> ë°°ì—´ì— í•­ëª©ì„ ì¶”ê°€í•˜ì„¸ìš”.';
    }
  </script>
</body>
</html>
